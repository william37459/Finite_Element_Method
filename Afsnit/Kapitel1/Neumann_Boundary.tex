

\begin{defn}{Neumann Boundary condition}
    Let $\frac{\partial u}{\partial \mathbf{n}}= \mathbf{n}\cdot \nabla u$ be the normal derivative. Then the Neumann boundary condition is given by
    \begin{equation}
        \frac{\partial u}{\partial \mathbf{n}}  = g.
    \end{equation}
\end{defn}
Using this definition, we can look at the Poisson equation with Neumann boundary conditions. Thus
\begin{align}
\label{eq:Neumann_Poisson}
\begin{split}
    -\Delta u &= f \quad \text{in } \Omega, \\
    \frac{\partial u}{\partial \mathbf{n}} &= g \quad \text{on } \partial \Omega.
\end{split}
\end{align}
Due to the fact that~\eqref{eq:Neumann_Poisson} only contains derivatives with respect to $u$,
 additive constants independent of $u$ are unimportant.
Thus if $u$ satisfies~\eqref{eq:Neumann_Poisson}, then $u + c$ also satisfies~\eqref{eq:Neumann_Poisson} for any constant $c$.
This means that the solution to~\eqref{eq:Neumann_Poisson} is only unique up to a constant,
 which extends to other equations with Neumann boundary conditions.

It turns out that we can formulate the weak form of this problem by restricting to the form $V=\{v\in H^1(\Omega):\int_{\Omega}vdx=0\}.$
Define $a(u,v) = \int_\OO \nabla u \cdot \nabla v dx$. Examining a version of 
the Friedrich inequality, Theorem~\ref{thm:friedrich}, which can be found on 
page 46 of \cite{Braess}, $a$ can be found to be $V$-elliptic.
We now want to assert that every classical solution to the variational problem satisfies~\eqref{eq:Neumann_Poisson}.
To do this, we let $w=\nabla u$. Thus~\eqref{eq:Neumann_Poisson} can be written as
\begin{align}\label{eq:Neumann_Poisson_weak}
\begin{split}
    -\text{div } w &= f \quad \text{in } \Omega, \\
    \mathbf{n}^Tw &= g \quad \text{on } \partial \OO.
\end{split}    
\end{align}
From the Gauss Integral Theorem, we have that
\[\int_{\Omega} \text{div } w dx = \int_{\partial \OO} \mathbf{n}^Tw ds.\]
Then from~\eqref{eq:Neumann_Poisson_weak} we get
\begin{align}
\begin{split}
%\int_{\Omega} \text{div } w dx &= \int_{\partial \OO} \mathbf{n}^Tw ds \\ 
\int_{\Omega} -f dx &= \int_{\partial \OO} g ds.
\end{split}
\end{align}
We now use Corollary \ref{cor:lax_milgram}, and get $u\in V$, where
\begin{equation}\label{eq:Lax-Milgram_Neumann}
  a(u,v) = (f,v)_{0,\Omega} + (g,v)_{0,\partial \OO} \quad \forall v\in V.  
\end{equation}
Equation~\eqref{eq:Neumann_Poisson} has now been shown to be true for 
every classical solution of the variational problem for $u\in V$. However, for some 
$u\in H^1(\OO)\setminus V$, we can use the following construction for 
the constant $c$:
\begin{equation*}
    \forall f \in H^1(\OO): \,\, c = \frac{\int_\OO f(x) dx }{\int_\OO 1 dx}.
\end{equation*}
Define $v(x) = f(x) - c$, and then 
\begin{equation*}
    \int_\OO v(x)dx = \int_\OO f(x) dx - c\int_\OO 1 dx = \int_\OO f(x) dx - \frac{\int_\OO f(x) dx }{\int_\OO 1 dx} \int_\OO 1 dx = 0,
\end{equation*}
so $v \in V$. For every $u\in H^1(\OO)\setminus V$ we can find a fitting 
constant such that $u+c \in V$. Every classical solution of the 
variational problem corresponding to a Neumann Boundary condition therefore 
satisfies \eqref{eq:Neumann_Poisson}, and \eqref{eq:Neumann_Poisson} becomes the weak formulation.
%! Definerer nyt a i bogen? Ã†kvivalens?
%? Skal det flyttes til efter 1.16 som i bogen?